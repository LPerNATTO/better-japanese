# BetterJapanese
Steam版CookieClickerの日本語訳を非公式のものに置き換えるMod

## 開発 / 翻訳
このリポジトリをローカルにcloneし、`npm install`してください。  
開発または翻訳を行う際は`npm start`することで`dist`ディレクトリが生成され、変更を行う度に自動的に最新の成果物が出力されます。  
**「その他」→「シンボリックリンクを張る」を参考に、シンボリックリンクを張ると色々と楽になるかもしれません**

### 翻訳
`locales`ディレクトリ内にある`<言語名>.json5`を編集することで、翻訳を編集できます。  
**開発者モードを有効にすると翻訳作業をサポートする機能が有効になります。**  
詳しくは「その他」→「開発者モードについて」をご覧ください。


## リリース
新しいバージョンをリリースする際は`package.json`の`version`プロパティを編集してください。

## その他
### 開発者モードについて
開発者モードを有効にすると、以下の機能が有効になります。

- ローカルの翻訳ファイルの読み込み (`translate.json`)
- 翻訳ファイルの再読み込みボタン
  
CookieClicker自体の開発者モードをONにすると、BetterJapaneseの開発者モードもONになります。  
`<CookieClickerがインストールされているディレクトリ>/resources/app/start.js`の12行目にある`let DEV=0`を`let DEV=1`に変更することで有効に出来ます。

### 挙動について
原則、一部の箇所については翻訳の適用後にページを再読み込みしないと反映されない箇所があります。（施設名など）  
翻訳ファイルを編集しても反映されない場合は再読み込みしてみてください。

### シンボリックリンクを張る
- まず `npm start` してから`dist`ディレクトリが作成されたことを確認します。
- 管理者権限でコマンドプロンプトを開いて `mklink /d "<CookieClickerのローカルModのディレクトリ>/better-japanese" "<このディレクトリ>/dist"` をするといい感じになります。
  
シンボリックリンクが正しく張れていれば、2回目以降はこの操作をする必要はありません。